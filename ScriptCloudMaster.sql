-- MySQL Script generated by MySQL Workbench
-- Fri Jun 28 23:05:23 2019
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema CLOUDMASTER
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema CLOUDMASTER
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `CLOUDMASTER` DEFAULT CHARACTER SET utf8 ;
USE `CLOUDMASTER` ;

-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`table1`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`table1` (
)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`table2`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`table2` (
)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`table3`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`table3` (
)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`PARAMETROS_PREVIRED`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`PARAMETROS_PREVIRED` (
  `ID_PREVISIONAL` INT NOT NULL AUTO_INCREMENT,
  `SUELDO_MINIMO` INT NOT NULL,
  `TOPE_ASIGNACION_FAMILIAR_TRAMO1` INT NOT NULL,
  `TOPE_ASIGNACION_FAMILIAR_TRAMO2` INT NOT NULL,
  `TOPE_ASIGNACION_FAMILIAR_TRAMO3` INT NOT NULL,
  `TOPE_ASIGNACION _FAMILIAR_TRAMO4` INT NOT NULL,
  `VALOR_U_F_MES` INT NOT NULL,
  `VALOR_UTM_DEL_MES` INT NOT NULL,
  `VALOR_ASIGN_FAMILIAR_TRAMO1` INT NOT NULL,
  `VALOR_ASIGN_FAMILIAR_TRAMO2` INT NOT NULL,
  `VALOR_ASIGN_FAMILIAR_TRAMO3` INT NOT NULL,
  `VALOR_ASIGN_FAMILIAR_TRAMO4` INT NOT NULL,
  `VALOR_SIS` INT NOT NULL,
  `TOPE_IMP_UF_72_3` INT NOT NULL,
  `TOPE_IMP_AFC_UF_108_5` INT NOT NULL,
  PRIMARY KEY (`ID_PREVISIONAL`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`INDICADOR_PROVISIONAL`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`INDICADOR_PROVISIONAL` (
  `ID_PREVISIONAL` INT NOT NULL AUTO_INCREMENT,
  `SUELDO_MINIMO` INT NOT NULL,
  `TOPE_ASIGNACION_FAMILIAR_TRAMO1` INT NOT NULL,
  `TOPE_ASIGNACION_FAMILIAR_TRAMO2` INT NOT NULL,
  `TOPE_ASIGNACION_FAMILIAR_TRAMO3` INT NOT NULL,
  `TOPE_ASIGNACION _FAMILIAR_TRAMO4` INT NOT NULL,
  `VALOR_U_F_MES` INT NOT NULL,
  `VALOR_UTM_DEL_MES` INT NOT NULL,
  `VALOR_ASIGN_FAMILIAR_TRAMO1` INT NOT NULL,
  `VALOR_ASIGN_FAMILIAR_TRAMO2` INT NOT NULL,
  `VALOR_ASIGN_FAMILIAR_TRAMO3` INT NOT NULL,
  `VALOR_ASIGN_FAMILIAR_TRAMO4` INT NOT NULL,
  `VALOR_SIS` INT NOT NULL,
  `TOPE_IMP_UF_72_3` INT NOT NULL,
  `TOPE_IMP_AFC_UF_108_5` INT NOT NULL,
  PRIMARY KEY (`ID_PREVISIONAL`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`MODULO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`MODULO` (
  `ID_MODULO` INT NOT NULL AUTO_INCREMENT,
  `DESCRIPCIONS` VARCHAR(300) NOT NULL,
  `ESTADO` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`ID_MODULO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`EMPRESA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`EMPRESA` (
  `ID_EMPRESA` INT NOT NULL AUTO_INCREMENT,
  `RUT_EMPRESA` VARCHAR(15) NOT NULL,
  `NOMBRE` VARCHAR(100) NOT NULL,
  `NOMBRE_FANTASIA` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`ID_EMPRESA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`USUARIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`USUARIO` (
  `ID_USUARIO` INT NOT NULL AUTO_INCREMENT,
  `ID_EMPRESA` INT NOT NULL,
  `NOM_USUARIO` VARCHAR(100) NOT NULL,
  `CLAVE_USR` VARCHAR(50) NOT NULL,
  `NOMBRE` VARCHAR(100) NOT NULL,
  `APELLIDO` VARCHAR(100) NOT NULL,
  `DIRECCION` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`ID_USUARIO`, `ID_EMPRESA`),
  INDEX `fk_USUARIO_EMPRESA1_idx` (`ID_EMPRESA` ASC),
  CONSTRAINT `fk_USUARIO_EMPRESA1`
    FOREIGN KEY (`ID_EMPRESA`)
    REFERENCES `CLOUDMASTER`.`EMPRESA` (`ID_EMPRESA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`PAIS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`PAIS` (
  `ID_PAIS` INT NOT NULL AUTO_INCREMENT,
  `NOMBRE_PAIS` VARCHAR(50) NOT NULL,
  `NACIONALIDAD` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`ID_PAIS`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`ESTADO_CIVIL`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`ESTADO_CIVIL` (
  `ID_ESTADO_CIVIL` INT NOT NULL AUTO_INCREMENT,
  `ESTADO_CIVIL` VARCHAR(10) NOT NULL,
  PRIMARY KEY (`ID_ESTADO_CIVIL`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`SEXO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`SEXO` (
  `ID_SEXO` INT NOT NULL AUTO_INCREMENT,
  `TIPO_SEXO` VARCHAR(15) NOT NULL,
  PRIMARY KEY (`ID_SEXO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`TIPO_CONTRATO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`TIPO_CONTRATO` (
  `ID_TIPO_CONTRATO` INT NOT NULL AUTO_INCREMENT,
  `TIPO_CONTRATO` VARCHAR(15) NOT NULL,
  `FECH_INI_CONT` DATE NOT NULL,
  `FECH_FIN_CONT` DATE NOT NULL,
  PRIMARY KEY (`ID_TIPO_CONTRATO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`TIPO_BOLETA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`TIPO_BOLETA` (
  `ID_TIPO_BOLETA` INT NOT NULL AUTO_INCREMENT,
  `NOMBRE` VARCHAR(40) NULL,
  PRIMARY KEY (`ID_TIPO_BOLETA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`CENTRO_NEGOCIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`CENTRO_NEGOCIO` (
  `ID_CENTRO_NEGOCIO` INT NOT NULL AUTO_INCREMENT,
  `NOM_NEGOCIO` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`ID_CENTRO_NEGOCIO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`CATEGORIA_BOLETA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`CATEGORIA_BOLETA` (
  `ID_CATEGORIA` INT NOT NULL AUTO_INCREMENT,
  `TIPO_CATEGORIA` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`ID_CATEGORIA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`BOLETA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`BOLETA` (
  `NRO_BOLETA` INT NOT NULL AUTO_INCREMENT,
  `ID_TIPO_BOLETA` INT NOT NULL,
  `ID_CENTRO_NEGOCIO` INT NOT NULL,
  `ID_CATEGORIA` INT NOT NULL,
  `FECHA_BOLETA` DATE NOT NULL,
  `ESTADO` VARCHAR(30) NOT NULL,
  `DESCRIPCION` VARCHAR(500) NOT NULL,
  `MONTO` INT NOT NULL,
  `RETENCION` INT NOT NULL,
  `PORCENTAJE` INT NOT NULL,
  `TOTAL_BOLETA` INT NOT NULL,
  INDEX `fk_BOLETA_TIPO_BOLETA1_idx` (`ID_TIPO_BOLETA` ASC),
  INDEX `fk_BOLETA_CENTRO_NEGOCIO1_idx` (`ID_CENTRO_NEGOCIO` ASC),
  INDEX `fk_BOLETA_CATEGORIA_BOLETA1_idx` (`ID_CATEGORIA` ASC),
  PRIMARY KEY (`NRO_BOLETA`, `ID_TIPO_BOLETA`, `ID_CENTRO_NEGOCIO`, `ID_CATEGORIA`),
  CONSTRAINT `fk_BOLETA_TIPO_BOLETA1`
    FOREIGN KEY (`ID_TIPO_BOLETA`)
    REFERENCES `CLOUDMASTER`.`TIPO_BOLETA` (`ID_TIPO_BOLETA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_BOLETA_CENTRO_NEGOCIO1`
    FOREIGN KEY (`ID_CENTRO_NEGOCIO`)
    REFERENCES `CLOUDMASTER`.`CENTRO_NEGOCIO` (`ID_CENTRO_NEGOCIO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_BOLETA_CATEGORIA_BOLETA1`
    FOREIGN KEY (`ID_CATEGORIA`)
    REFERENCES `CLOUDMASTER`.`CATEGORIA_BOLETA` (`ID_CATEGORIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`REGION`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`REGION` (
  `ID_REGION` VARCHAR(3) NOT NULL,
  `NOMBRE_REGION` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`ID_REGION`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`COMUNA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`COMUNA` (
  `ID_COMUNA` INT NOT NULL,
  `ID_REGION` VARCHAR(3) NOT NULL,
  `NOMBRE_COMUNA` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID_COMUNA`, `ID_REGION`),
  INDEX `fk_COMUNA_REGION1_idx` (`ID_REGION` ASC),
  CONSTRAINT `fk_COMUNA_REGION1`
    FOREIGN KEY (`ID_REGION`)
    REFERENCES `CLOUDMASTER`.`REGION` (`ID_REGION`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`EMPLEADO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`EMPLEADO` (
  `ID_EMPLEADO` INT NOT NULL AUTO_INCREMENT,
  `ID_NACIONALIDAD` INT NOT NULL,
  `ID_ESTADO_CIVIL` INT NOT NULL,
  `ID_SEXO` INT NOT NULL,
  `ID_TIPO_CONTRATO` INT NOT NULL,
  `NRO_BOLETA` INT NOT NULL,
  `ID_COMUNA` INT NOT NULL,
  `ID_REGION` VARCHAR(3) NOT NULL,
  `RUT` VARCHAR(15) NOT NULL,
  `APELLIDO MATERNO` VARCHAR(45) NOT NULL,
  `NOMBRE` VARCHAR(50) NOT NULL,
  `APELLIDO_PATERNO` VARCHAR(50) NOT NULL,
  `APELLIDO_MATERNO` VARCHAR(50) NOT NULL,
  `DIRECCION` VARCHAR(50) NOT NULL,
  `TELFONO` VARCHAR(15) NOT NULL,
  `CELULAR` VARCHAR(15) NOT NULL,
  `EMAIL` VARCHAR(50) NOT NULL,
  `PROFESION` VARCHAR(50) NOT NULL,
  `FECHA_NACIMIENTO` DATE NOT NULL,
  PRIMARY KEY (`ID_EMPLEADO`, `ID_COMUNA`, `ID_REGION`, `NRO_BOLETA`, `ID_TIPO_CONTRATO`, `ID_SEXO`, `ID_ESTADO_CIVIL`, `ID_NACIONALIDAD`),
  INDEX `fk_EMPLEADO_NACIONALIDAD1_idx` (`ID_NACIONALIDAD` ASC),
  INDEX `fk_EMPLEADO_ESTADO_CIVIL1_idx` (`ID_ESTADO_CIVIL` ASC),
  INDEX `fk_EMPLEADO_SEXO1_idx` (`ID_SEXO` ASC),
  INDEX `fk_EMPLEADO_TIPO_CONTRATO1_idx` (`ID_TIPO_CONTRATO` ASC),
  INDEX `fk_EMPLEADO_BOLETA1_idx` (`NRO_BOLETA` ASC),
  INDEX `fk_EMPLEADO_COMUNA1_idx` (`ID_COMUNA` ASC, `ID_REGION` ASC),
  CONSTRAINT `fk_EMPLEADO_NACIONALIDAD1`
    FOREIGN KEY (`ID_NACIONALIDAD`)
    REFERENCES `CLOUDMASTER`.`PAIS` (`ID_PAIS`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_EMPLEADO_ESTADO_CIVIL1`
    FOREIGN KEY (`ID_ESTADO_CIVIL`)
    REFERENCES `CLOUDMASTER`.`ESTADO_CIVIL` (`ID_ESTADO_CIVIL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_EMPLEADO_SEXO1`
    FOREIGN KEY (`ID_SEXO`)
    REFERENCES `CLOUDMASTER`.`SEXO` (`ID_SEXO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_EMPLEADO_TIPO_CONTRATO1`
    FOREIGN KEY (`ID_TIPO_CONTRATO`)
    REFERENCES `CLOUDMASTER`.`TIPO_CONTRATO` (`ID_TIPO_CONTRATO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_EMPLEADO_BOLETA1`
    FOREIGN KEY (`NRO_BOLETA`)
    REFERENCES `CLOUDMASTER`.`BOLETA` (`NRO_BOLETA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_EMPLEADO_COMUNA1`
    FOREIGN KEY (`ID_COMUNA` , `ID_REGION`)
    REFERENCES `CLOUDMASTER`.`COMUNA` (`ID_COMUNA` , `ID_REGION`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`NOMINA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`NOMINA` (
  `ID_NOMINA` INT NOT NULL AUTO_INCREMENT,
  `ID_EMPLEADO` INT NOT NULL,
  `ID_PREVISIONAL` INT NOT NULL,
  `NOMBRE` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`ID_NOMINA`, `ID_EMPLEADO`, `ID_PREVISIONAL`),
  INDEX `fk_NOMINA_INDICADOR_PROVISIONAL1_idx` (`ID_PREVISIONAL` ASC),
  INDEX `fk_NOMINA_EMPLEADO1_idx` (`ID_EMPLEADO` ASC),
  CONSTRAINT `fk_NOMINA_INDICADOR_PROVISIONAL1`
    FOREIGN KEY (`ID_PREVISIONAL`)
    REFERENCES `CLOUDMASTER`.`INDICADOR_PROVISIONAL` (`ID_PREVISIONAL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_NOMINA_EMPLEADO1`
    FOREIGN KEY (`ID_EMPLEADO`)
    REFERENCES `CLOUDMASTER`.`EMPLEADO` (`ID_EMPLEADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`DETALLE_MODULO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`DETALLE_MODULO` (
  `ID_MODULO` INT NOT NULL,
  `ID_USUARIO` INT NOT NULL,
  PRIMARY KEY (`ID_MODULO`),
  INDEX `fk_MODULO_has_USUARIO_USUARIO1_idx` (`ID_USUARIO` ASC),
  INDEX `fk_MODULO_has_USUARIO_MODULO_idx` (`ID_MODULO` ASC),
  CONSTRAINT `fk_MODULO_has_USUARIO_MODULO`
    FOREIGN KEY (`ID_MODULO`)
    REFERENCES `CLOUDMASTER`.`MODULO` (`ID_MODULO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_MODULO_has_USUARIO_USUARIO1`
    FOREIGN KEY (`ID_USUARIO`)
    REFERENCES `CLOUDMASTER`.`USUARIO` (`ID_USUARIO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`CAJA_COMPENSACION`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`CAJA_COMPENSACION` (
  `RUT_CCAF` VARCHAR(15) NOT NULL,
  `NOMBRE_CCAF` VARCHAR(45) NOT NULL,
  `CARGA_DE_INVALIDEZ` VARCHAR(5) NOT NULL,
  `CARGA_MATERNALES` VARCHAR(45) NOT NULL,
  `CARGA_NORMALES` VARCHAR(45) NOT NULL,
  `AHORRO_CCAF` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`RUT_CCAF`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`APORTES_BASICOS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`APORTES_BASICOS` (
  `ID_APORTE` INT NOT NULL AUTO_INCREMENT,
  `COLACION_ESP` INT NOT NULL,
  `MOVILIZ_ESP` INT NOT NULL,
  `VIATICO` INT NOT NULL,
  PRIMARY KEY (`ID_APORTE`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`AFC`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`AFC` (
  `ID_AFC` INT NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` VARCHAR(500) NOT NULL,
  `AFC_APLICA_FONDO_CESANTIA` VARCHAR(5) NOT NULL,
  `AFC_APLICA_MAS_11_ANOS` VARCHAR(5) NOT NULL,
  `AFC_CTA_2_APLICA_NO_SI` VARCHAR(5) NOT NULL,
  `SEGURO_DE_CESANTIA` VARCHAR(5) NOT NULL,
  PRIMARY KEY (`ID_AFC`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`AFP`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`AFP` (
  `ID_AFP` INT NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` VARCHAR(500) NOT NULL,
  `AFP_CTA_2_TIPO_AHORRO` VARCHAR(50) NOT NULL,
  `AFP_CTA_2_AHORRO_PACTADO` VARCHAR(50) NOT NULL,
  `AFP_CTA_2_NUMERO_CUENTA_AHORRO` INT NOT NULL,
  PRIMARY KEY (`ID_AFP`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`ISAPRE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`ISAPRE` (
  `ID_ISAPRE` INT NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` VARCHAR(500) NOT NULL,
  PRIMARY KEY (`ID_ISAPRE`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`FONASA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`FONASA` (
  `ID_FONASA` INT NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` VARCHAR(500) NOT NULL,
  PRIMARY KEY (`ID_FONASA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`APV`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`APV` (
  `ID_APV` INT NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` VARCHAR(500) NOT NULL,
  `TIPO_APV_REGIMEN` VARCHAR(5) NOT NULL,
  `APV_NO_APLICA_UF_O_PORC` DOUBLE NOT NULL,
  `APV_REGIMEN_INST_CONTRATO` VARCHAR(50) NOT NULL,
  `APV_REGIMEN_FORMA_PAGO` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`ID_APV`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`PLAN_SALUD`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`PLAN_SALUD` (
  `ID_PLAN_SALUD` INT NOT NULL AUTO_INCREMENT,
  `TIPO_PLAN_SALUD` VARCHAR(50) NOT NULL,
  `VALOR_PLAN_SALUD_PESOS` INT NOT NULL,
  `VALOR_PLAN_SALUD_UF` VARCHAR(5) NOT NULL,
  `PLAN_S_PROPORCIONAL_NO_SI` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID_PLAN_SALUD`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`CONTRATO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`CONTRATO` (
  `ID_CONTRATO` INT NOT NULL AUTO_INCREMENT,
  `RUT_CCAF` VARCHAR(15) NOT NULL,
  `ID_APORTE` INT NOT NULL,
  `ID_AFC` INT NOT NULL,
  `AFP_ID_AFP` INT NOT NULL,
  `ID_ISAPRE` INT NOT NULL,
  `ID_FONASA` INT NOT NULL,
  `ID_APV` INT NOT NULL,
  `FECHA_MES` VARCHAR(5) NOT NULL,
  `FECHA_ANO` INT NOT NULL,
  `CALCULO_LIQ` VARCHAR(50) NOT NULL,
  `CARGO` VARCHAR(50) NOT NULL,
  `SUELDO_BASE` INT NOT NULL,
  `ES_EXTRA_SIN_AFP_SALUD` VARCHAR(45) NOT NULL,
  `PORCENTAJE_RET_JUDICIAL` DOUBLE NOT NULL,
  `MONTO_RET_JUDICIAL` INT NOT NULL,
  `TIPO_CONTRATACION` VARCHAR(45) NOT NULL,
  `APLICA_GRATIFICACION` VARCHAR(5) NOT NULL,
  `CONTRATO_ISAPRE_FUN` VARCHAR(5) NOT NULL,
  `SOLI_COTIZA_7_PORCIENTO_DE_SALUD` DOUBLE NOT NULL,
  `SUELDO_PROMEDIO_SEMESTRAL` INT NOT NULL,
  `TIPO_DE_TRABAJADOR` VARCHAR(45) NOT NULL,
  `TASA_COTIZ_PENSIONADO` INT NOT NULL,
  `SUBSIDIO_TRABAJADOR_JOVEN` VARCHAR(5) NOT NULL,
  `PLAN_SALUD_ID_PLAN_SALUD` INT NOT NULL,
  PRIMARY KEY (`ID_CONTRATO`, `RUT_CCAF`, `ID_APORTE`, `ID_AFC`, `AFP_ID_AFP`, `ID_ISAPRE`, `ID_FONASA`, `ID_APV`, `PLAN_SALUD_ID_PLAN_SALUD`),
  INDEX `fk_CONTRATO_CAJA_COMPENSACION1_idx` (`RUT_CCAF` ASC),
  INDEX `fk_CONTRATO_APORTES_BASICOS1_idx` (`ID_APORTE` ASC),
  INDEX `fk_CONTRATO_AFC1_idx` (`ID_AFC` ASC),
  INDEX `fk_CONTRATO_AFP1_idx` (`AFP_ID_AFP` ASC),
  INDEX `fk_CONTRATO_ISAPRE1_idx` (`ID_ISAPRE` ASC),
  INDEX `fk_CONTRATO_FONASA1_idx` (`ID_FONASA` ASC),
  INDEX `fk_CONTRATO_APV1_idx` (`ID_APV` ASC),
  INDEX `fk_CONTRATO_PLAN_SALUD1_idx` (`PLAN_SALUD_ID_PLAN_SALUD` ASC),
  CONSTRAINT `fk_CONTRATO_CAJA_COMPENSACION1`
    FOREIGN KEY (`RUT_CCAF`)
    REFERENCES `CLOUDMASTER`.`CAJA_COMPENSACION` (`RUT_CCAF`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTRATO_APORTES_BASICOS1`
    FOREIGN KEY (`ID_APORTE`)
    REFERENCES `CLOUDMASTER`.`APORTES_BASICOS` (`ID_APORTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTRATO_AFC1`
    FOREIGN KEY (`ID_AFC`)
    REFERENCES `CLOUDMASTER`.`AFC` (`ID_AFC`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTRATO_AFP1`
    FOREIGN KEY (`AFP_ID_AFP`)
    REFERENCES `CLOUDMASTER`.`AFP` (`ID_AFP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTRATO_ISAPRE1`
    FOREIGN KEY (`ID_ISAPRE`)
    REFERENCES `CLOUDMASTER`.`ISAPRE` (`ID_ISAPRE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTRATO_FONASA1`
    FOREIGN KEY (`ID_FONASA`)
    REFERENCES `CLOUDMASTER`.`FONASA` (`ID_FONASA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTRATO_APV1`
    FOREIGN KEY (`ID_APV`)
    REFERENCES `CLOUDMASTER`.`APV` (`ID_APV`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_CONTRATO_PLAN_SALUD1`
    FOREIGN KEY (`PLAN_SALUD_ID_PLAN_SALUD`)
    REFERENCES `CLOUDMASTER`.`PLAN_SALUD` (`ID_PLAN_SALUD`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`DESCUENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`DESCUENTO` (
  `ID_DESCUENTO` INT NOT NULL AUTO_INCREMENT,
  `TIPO_DESCUENTO` VARCHAR(50) NOT NULL,
  `MONTO_DESCUENTO` INT NOT NULL,
  PRIMARY KEY (`ID_DESCUENTO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`HABERES`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`HABERES` (
  `ID_HABERES` INT NOT NULL AUTO_INCREMENT,
  `TIPO_HABERES` VARCHAR(50) NOT NULL,
  `MONTO` INT NOT NULL,
  PRIMARY KEY (`ID_HABERES`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`BONO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`BONO` (
  `ID_BONO` INT NOT NULL,
  `TIPO_BONO` VARCHAR(45) NOT NULL,
  `DESCRIPCION` VARCHAR(300) NOT NULL,
  PRIMARY KEY (`ID_BONO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`MOVIMIENTO_EMPLEADO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`MOVIMIENTO_EMPLEADO` (
  `ID_MOVIMIENTO` INT NOT NULL AUTO_INCREMENT,
  `HABERES_ID_HABERES` INT NOT NULL,
  `DESCUENTO_ID_DESCUENTO` INT NOT NULL,
  `DIAS_AUSENTISMO` DATE NOT NULL,
  `DIAS_NO_CONTRATO` DATE NOT NULL,
  `ANTICIPO_DE_SUELDO` INT NOT NULL,
  `NO_USUAR` VARCHAR(50) NOT NULL,
  `NRO_CARGAS_RETO` INT NOT NULL,
  `FAM_RETROACT` INT NOT NULL,
  `NRO_HORAS_EXTRAS` INT NOT NULL,
  `COD_MOV_01_DE_PERSONAL` VARCHAR(15) NOT NULL,
  `MOV_01_FECHA_INICIAL` DATE NOT NULL,
  `MOV_01_FECHA_FINAL` DATE NOT NULL,
  `COD_MOV_02_DE_PERSONAL` VARCHAR(15) NOT NULL,
  `MOV_02_FECHA_INICIAL` DATE NOT NULL,
  `MOV_02_FECHA_FINAL` DATE NOT NULL,
  `COD_MOV_03_DE_PERSONAL` VARCHAR(15) NOT NULL,
  `MOV_03_FECHA_INICIAL` DATE NOT NULL,
  `MOV_03_FECHA_FINAL` DATE NOT NULL,
  `LICENCIA_MEDICA` VARCHAR(50) NOT NULL,
  `V_P_CALCULAR_AFC_LIC_MEDICA` INT NOT NULL,
  `DIAS_DE_LICENCIA` INT NOT NULL,
  `MOVIMIENTO_EMPLEADO_ID_MOVIMIENTO` INT NOT NULL,
  `MOVIMIENTO_EMPLEADO_HABERES_ID_HABERES` INT NOT NULL,
  `MOVIMIENTO_EMPLEADO_DESCUENTO_ID_DESCUENTO` INT NOT NULL,
  `BONO_ID_BONO` INT NOT NULL,
  PRIMARY KEY (`ID_MOVIMIENTO`, `HABERES_ID_HABERES`, `DESCUENTO_ID_DESCUENTO`, `MOVIMIENTO_EMPLEADO_ID_MOVIMIENTO`, `MOVIMIENTO_EMPLEADO_HABERES_ID_HABERES`, `MOVIMIENTO_EMPLEADO_DESCUENTO_ID_DESCUENTO`, `BONO_ID_BONO`),
  INDEX `fk_MOVIMIENTO_EMPLEADO_HABERES1_idx` (`HABERES_ID_HABERES` ASC),
  INDEX `fk_MOVIMIENTO_EMPLEADO_DESCUENTO1_idx` (`DESCUENTO_ID_DESCUENTO` ASC),
  INDEX `fk_MOVIMIENTO_EMPLEADO_MOVIMIENTO_EMPLEADO1_idx` (`MOVIMIENTO_EMPLEADO_ID_MOVIMIENTO` ASC, `MOVIMIENTO_EMPLEADO_HABERES_ID_HABERES` ASC, `MOVIMIENTO_EMPLEADO_DESCUENTO_ID_DESCUENTO` ASC),
  INDEX `fk_MOVIMIENTO_EMPLEADO_BONO1_idx` (`BONO_ID_BONO` ASC),
  CONSTRAINT `fk_MOVIMIENTO_EMPLEADO_HABERES1`
    FOREIGN KEY (`HABERES_ID_HABERES`)
    REFERENCES `CLOUDMASTER`.`HABERES` (`ID_HABERES`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_MOVIMIENTO_EMPLEADO_DESCUENTO1`
    FOREIGN KEY (`DESCUENTO_ID_DESCUENTO`)
    REFERENCES `CLOUDMASTER`.`DESCUENTO` (`ID_DESCUENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_MOVIMIENTO_EMPLEADO_MOVIMIENTO_EMPLEADO1`
    FOREIGN KEY (`MOVIMIENTO_EMPLEADO_ID_MOVIMIENTO` , `MOVIMIENTO_EMPLEADO_HABERES_ID_HABERES` , `MOVIMIENTO_EMPLEADO_DESCUENTO_ID_DESCUENTO`)
    REFERENCES `CLOUDMASTER`.`MOVIMIENTO_EMPLEADO` (`ID_MOVIMIENTO` , `HABERES_ID_HABERES` , `DESCUENTO_ID_DESCUENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_MOVIMIENTO_EMPLEADO_BONO1`
    FOREIGN KEY (`BONO_ID_BONO`)
    REFERENCES `CLOUDMASTER`.`BONO` (`ID_BONO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`PRESTAMO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`PRESTAMO` (
  `ID_PRESTAMO` INT NOT NULL AUTO_INCREMENT,
  `VALOR_CUOTA_ACTUAL` INT NOT NULL,
  `VALOR_CUOTA` INT NOT NULL,
  `VALOR_PRESTAMO_TOTAL` INT NOT NULL,
  PRIMARY KEY (`ID_PRESTAMO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`CREDITO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`CREDITO` (
  `ID_CREDITO` INT NOT NULL,
  `TIPO_CREDITO` VARCHAR(45) NOT NULL,
  `FECHA_PEDIDO` DATE NOT NULL,
  `FECHA_VENCIMIENTO` DATE NOT NULL,
  PRIMARY KEY (`ID_CREDITO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`SEGURO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`SEGURO` (
  `ID_SEGURO` INT NOT NULL,
  `NOMBRE_SEGURO` VARCHAR(45) NOT NULL,
  `TIPO_SEGURO` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID_SEGURO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `CLOUDMASTER`.`EMPRESA_DETALLE_NOMINA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `CLOUDMASTER`.`EMPRESA_DETALLE_NOMINA` (
  `ID_EMPRESA` INT NOT NULL,
  `ID_NOMINA` INT NOT NULL,
  `ID_EMPLEADO` INT NOT NULL,
  `ID_PREVISIONAL` INT NOT NULL,
  PRIMARY KEY (`ID_EMPRESA`, `ID_NOMINA`, `ID_EMPLEADO`, `ID_PREVISIONAL`),
  INDEX `fk_EMPRESA_has_NOMINA_NOMINA1_idx` (`ID_NOMINA` ASC, `ID_EMPLEADO` ASC, `ID_PREVISIONAL` ASC),
  INDEX `fk_EMPRESA_has_NOMINA_EMPRESA1_idx` (`ID_EMPRESA` ASC),
  CONSTRAINT `fk_EMPRESA_has_NOMINA_EMPRESA1`
    FOREIGN KEY (`ID_EMPRESA`)
    REFERENCES `CLOUDMASTER`.`EMPRESA` (`ID_EMPRESA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_EMPRESA_has_NOMINA_NOMINA1`
    FOREIGN KEY (`ID_NOMINA` , `ID_EMPLEADO` , `ID_PREVISIONAL`)
    REFERENCES `CLOUDMASTER`.`NOMINA` (`ID_NOMINA` , `ID_EMPLEADO` , `ID_PREVISIONAL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
